# π”„ λ™μ  νλΌλ―Έν„°ν™” - λ³µμ΅ν• κ³Όμ • κ°„μ†ν™”

> π“– μ‚¬μ©ν•κΈ° λ³µμ΅ν• κΈ°λ¥μ΄λ‚ κ°λ…μ„ μ‚¬μ©ν•κ³  μ‹¶μ€ μ‚¬λμ€ μ•„λ¬΄λ„ μ—†λ‹¤. λ™μ  νλΌλ―Έν„°ν™”λ¥Ό λ”μ± κ°„μ†ν™”ν•λ” λ°©λ²•μ„ μ•μ•„λ³΄μ.

---

## π› οΈ λ³µμ΅ν• κ³Όμ • κ°„μ†ν™”

ν„μ¬ `filterApples` λ©”μ†λ“λ΅ μƒλ΅μ΄ λ™μ‘μ„ μ „λ‹¬ν•λ ¤λ©΄ `ApplePredicate` μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” μ—¬λ¬ ν΄λμ¤λ¥Ό μ •μν• λ‹¤μμ— μΈμ¤ν„΄μ¤ν™”ν•΄μ•Ό ν•λ‹¤. μƒλ‹Ήν λ²κ±°λ΅μ΄ μ‘μ—…μ΄λ‹¤.

### π“ ν„μ¬ μ½”λ“μ λ²κ±°λ΅μ›€

```java
import com.study.ch02.ApplePredicate;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class AppleHeavyWeightPredicate implements ApplePredicate {
    public boolean test(Apple apple) {
        return apple.getWeight() > 150;
    }
}

public class AppleGreenColorPredicate implements ApplePredicate {
    public boolean test(Apple apple) {
        return GREEN.equals(apple.getColor());
    }
}

public class FilterApples {
    public static void main(String[] args) {
        List<Apple> inventory = Arrays.asList(
                new Apple(80, GREEN),
                new Apple(155, GREEN),
                new Apple(120, RED)
        );

        List<Apple> heavyApples = filterApples(inventory, new AppleHeavyWeightPredicate());
        List<Apple> greenApples = filterApples(inventory, new AppleGreenColorPredicate());
    }

    public static List<Apple> filterApples(List<Apple> inventory, ApplePredicate p) {
        List<Apple> result = new ArrayList<>();
        
        for(Apple apple : inventory){
            if(p.test(apple)){
                result.add(apple);
            }
        }
        
        return result;
    }
}
```

**β λ¬Έμ μ **
- λ΅μ§κ³Ό κ΄€λ ¨ μ—†λ” μ½”λ“κ°€ λ§μ΄ μ¶”κ°€λμ—λ‹¤.
- κ°„λ‹¨ν• μ΅°κ±΄ ν•λ‚λ¥Ό μ„ν•΄ μ „μ²΄ ν΄λμ¤λ¥Ό λ§λ“¤μ–΄μ•Ό ν•λ‹¤.

μλ°”λ” ν΄λμ¤μ μ„ μ–Έκ³Ό μΈμ¤ν„΄μ¤ν™”λ¥Ό λ™μ‹μ— μν–‰ν•  μ μλ„λ΅ **μµλ… ν΄λμ¤**λΌλ” κΈ°λ²•μ„ μ κ³µν•λ‹¤.

---

## π­ μµλ… ν΄λμ¤ (Anonymous Class)

**μµλ… ν΄λμ¤**λ” μλ°”μ μ§€μ—­ ν΄λμ¤μ™€ λΉ„μ·ν• κ°λ…μ΄λ‹¤. μµλ… ν΄λμ¤λ” λ§ κ·Έλ€λ΅ μ΄λ¦„μ΄ μ—†λ” ν΄λμ¤λ‹¤. μµλ… ν΄λμ¤λ¥Ό μ΄μ©ν•λ©΄ ν΄λμ¤ μ„ μ–Έκ³Ό μΈμ¤ν„΄μ¤ν™”λ¥Ό λ™μ‹μ— ν•  μ μλ‹¤.

### π― μ‚¬μ© λ©μ 

- **ν• λ²λ§ μ‚¬μ©ν•  ν΄λμ¤**λ¥Ό λ§λ“¤κΈ° μ„ν•΄
- **κ°„λ‹¨ν• μΈν„°νμ΄μ¤ κµ¬ν„/μ¶”μƒ ν΄λμ¤ μƒμ†**
- **μ½”λ“λ¥Ό μ§§κ³  μ‘μ§‘λ ¥ μκ²** μ‘μ„±

### π“– μµλ… ν΄λμ¤ μƒμ„Έ μ„¤λ…

μ΄λ¦„ μ—†λ” μΌνμ„±(1νμ©) λ‚΄λ¶€ ν΄λμ¤λ‹¤. κ°μ²΄λ¥Ό μƒμ„±ν•λ©΄μ„ κ³§λ°”λ΅ ν΄λμ¤λ¥Ό μ •μΒ·κµ¬ν„κΉμ§€ ν• λ²μ— ν•΄λ²„λ¦¬λ” λ¬Έλ²•μ΄λ‹¤.

```java
μΈν„°νμ΄μ¤λ‚_μƒμ„ν΄λμ¤ ref = new μΈν„°νμ΄μ¤λ‚_μƒμ„ν΄λμ¤() {
    // λ©”μ„λ“ κµ¬ν„(override)
    @Override
    public void run() {
        System.out.println("Hello");
    }
};
```

**π” νΉμ§•**
- `new` ν‚¤μ›λ“ λ’¤μ— ν΄λμ¤ μ΄λ¦„ μ—†μ΄ λ°”λ΅ `{ β€¦ }` λΈ”λ΅μΌλ΅ μ •μ
- μ¦‰μ‹ ν• λ²λ§ μΈμ¤ν„΄μ¤ν™” β†’ λ³„λ„ `.class` νμΌμ΄ μƒμ„±λμ§€ μ•λ”λ‹¤.

### π“ μ‚¬μ© μƒν™©λ³„ κ°€μ΄λ“

| μƒν™© | μ΄μ  |
|------|------|
| **μ „λµΒ·μ½λ°±μ„ κ°„λ‹¨ν μ£Όμ…** | μ“°κ³  λ²„λ¦΄ κµ¬ν„μ²΄λ¥Ό λΉ¨λ¦¬ λ§λ“λ” μ©λ„ |
| **GUI μ΄λ²¤νΈ μ²λ¦¬** | λ²„νΌ ν΄λ¦­ λ¦¬μ¤λ„ λ“± μ½”λ“λ‰ μ κ³  κµ­μ§€μ  λ΅μ§ |
| **λλ‹¤ λ„μ… μ „(Java 7 μ΄ν•)** | Comparator, Runnable λ“± ν•¨μν• μΈν„°νμ΄μ¤ κµ¬ν„ |

### β οΈ νΉμ§• & μ£Όμμ 

- μ™Έλ¶€ μ§€μ—­ λ³€μλ” `final` λλ” `effectively final`(κ°’ λ³€κ²½ μ• λ¨)μ΄μ–΄μ•Ό μ°Έμ΅° κ°€λ¥ν•λ‹¤.
- μƒμ„±μ μ—†μ β†’ μΈμ¤ν„΄μ¤ μ΄κΈ°ν™”λ” μ΄λ‹μ…λΌμ΄μ € λΈ”λ΅ λλ” λ©”μ„λ“ λ‚΄λ¶€μ—μ„ μ²λ¦¬ν•λ‹¤.
- ν΄λμ¤λ… μ—†μΌλ‹ μ¬μ‚¬μ© λ¶κ°€, κΈ΄ μ½”λ“λ©΄ κ°€λ…μ„±μ΄ λ‚λΉ μ§„λ‹¤.
- Java 8 μ΄ν›„ λ€λ¶€λ¶„ λλ‹¤λ΅ λ€μ²΄ κ°€λ¥ β†’ μµλ… ν΄λμ¤λ” μΈν„°νμ΄μ¤μ— μ—¬λ¬ λ©”μ„λ“κ°€ μμ„ λ•λ§ ν•„μ”ν•λ‹¤.

---

## π”„ λ‹¨κ³„λ³„ μ½”λ“ κ°μ„  κ³Όμ •

### 5οΈβƒ£ λ‹¤μ„― λ²μ§Έ μ‹λ„: μµλ… ν΄λμ¤ μ‚¬μ©

μµλ… ν΄λμ¤λ¥Ό μ΄μ©ν•΄μ„ `ApplePredicate`λ¥Ό κµ¬ν„ν•λ” κ°μ²΄λ¥Ό λ§λ“λ” λ°©λ²•μΌλ΅ ν•„ν„°λ§ν• μ½”λ“λ‹¤.

```java
List<Apple> redApples = filterApples(inventory, new ApplePredicate(){
    public boolean test(Apple apple){
        return RED.equals(apple.getColor());
    }
});
// filterApples λ©”μ†λ“μ λ™μ‘μ„ μ§μ ‘ νλΌλ―Έν„°ν™”ν–λ‹¤.
```

**β μ—¬μ „ν• λ¬Έμ μ **

```java
List<Apple> redApples = filterApples(inventory, new ApplePredicate(){
    public boolean test(Apple apple){
```

μ΄ λ¶€λ¶„μ΄ λ°λ³µλμ–΄ μ§€μ €λ¶„ν• μ½”λ“κ°€ λλ‹¤.

- λ§μ€ ν”„λ΅κ·Έλλ¨Έκ°€ μµλ… ν΄λμ¤μ μ‚¬μ©μ— μµμ™ν•μ§€ μ•λ‹¤.
- μ½”λ“μ μ¥ν™©ν•¨μ€ λ‚μ νΉμ„±μ΄λ‹¤.
- μ¥ν™©ν• μ½”λ“λ” κµ¬ν„ν•κ³  μ μ§€λ³΄μν•λ” λ° μ‹κ°„μ΄ μ¤λ κ±Έλ¦΄ λΏ μ•„λ‹λΌ μ½λ” μ¦κ±°μ›€μ„ λΉΌμ•—λ” μ”μ†λ‹¤.

### 6οΈβƒ£ μ—¬μ„― λ²μ§Έ μ‹λ„: λλ‹¤ ν‘ν„μ‹ μ‚¬μ©

Java 8μ λλ‹¤ ν‘ν„μ‹μ„ μ΄μ©ν•΄μ„ μ„ μμ  μ½”λ“λ¥Ό κ°„λ‹¨ν•κ² μ¬κµ¬ν„ν•  μ μλ‹¤.

```java
List<Apple> result = 
    filterApples(inventory, (Apple apple) -> RED.equals(apple.getColor()));
```

**β… κ°μ„ μ **
- μ½”λ“κ°€ ν›¨μ”¬ κ°„κ²°ν•΄μ΅λ‹¤.
- κ°€λ…μ„±μ΄ ν¬κ² ν–¥μƒλμ—λ‹¤.
- λ³΄μΌλ¬ν”λ μ΄νΈ μ½”λ“κ°€ μ κ±°λμ—λ‹¤.

### 7οΈβƒ£ μΌκ³± λ²μ§Έ μ‹λ„: λ¦¬μ¤νΈ ν•μ‹μΌλ΅ μ¶”μƒν™”

```java
import java.util.ArrayList;
import java.util.List;

public interface Predicate<T> {
    boolean test(T t);
}

public static <T> List<T> filter(List<T> list, Predicate<T> p) {
    List<T> result = new ArrayList<>();
    
    for(T e : list){
        if(p.test(e)){
            result.add(e);
        }
    }
    
    return result;
}
```

**π‰ μµμΆ… κ²°κ³Ό**

μ΄μ  λ°”λ‚λ‚, μ¤λ μ§€, μ •μ, λ¬Έμμ—΄ λ“±μ λ¦¬μ¤νΈμ— ν•„ν„° λ©”μ†λ“λ¥Ό μ μ©ν•  μ μλ‹¤!

```java
// μ‚¬κ³Ό ν•„ν„°λ§
List<Apple> redApples = filter(inventory, (Apple apple) -> RED.equals(apple.getColor()));

// μ«μ ν•„ν„°λ§
List<Integer> evenNumbers = filter(numbers, (Integer i) -> i % 2 == 0);

// λ¬Έμμ—΄ ν•„ν„°λ§
List<String> shortWords = filter(words, (String s) -> s.length() < 5);
```

---

## π― μ‹¤μ „ μμ 

λ™μ‘ νλΌλ―Έν„°ν™”κ°€ λ³€ν™”ν•λ” μ”κµ¬μ‚¬ν•­μ— μ‰½κ² μ μ‘ν•λ” μ μ©ν• ν¨ν„΄μ„μ„ ν™•μΈν–λ‹¤. λ™μ‘ νλΌλ―Έν„°ν™” ν¨ν„΄μ€ λ™μ‘μ„ (ν• μ΅°κ°μ μ½”λ“λ΅) μΊ΅μν™”ν• λ‹¤μμ— λ©”μ†λ“λ΅ μ „λ‹¬ν•΄μ„ λ©”μ†λ“μ λ™μ‘μ„ νλΌλ―Έν„°ν™”ν•λ‹¤.

### π” μ‹¤μ  κ°λ°μ—μ„μ ν™μ© μμ‹

```java
// Comparatorλ¥Ό μ΄μ©ν• μ •λ ¬
inventory.sort((Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight()));

// μ¤λ λ“ μ‹¤ν–‰
Thread t = new Thread(() -> System.out.println("Hello World"));

// GUI μ΄λ²¤νΈ μ²λ¦¬ (JavaFX μμ‹)
button.setOnAction(event -> System.out.println("Button clicked!"));
```

---

## π λ§λ¬΄λ¦¬

### π”‘ ν•µμ‹¬ μ”μ•½

λ™μ‘ νλΌλ―Έν„°ν™”μ—μ„λ” λ©”μ†λ“ λ‚΄λ¶€μ μΌλ΅ λ‹¤μ–‘ν• λ™μ‘μ„ μν–‰ν•  μ μλ„λ΅ μ½”λ“λ¥Ό λ©”μ†λ“ μΈμλ΅ μ „λ‹¬ν•λ‹¤. μ΄λ¥Ό μ΄μ©ν•λ©΄ λ‹¤μκ³Ό κ°™μ€ μ΄μ μ„ μ–»μ„ μ μλ‹¤:

### β… μ–»μ€ κ²ƒλ“¤

1. **μ μ—°μ„±**: λ³€ν™”ν•λ” μ”κµ¬μ‚¬ν•­μ— λ” μ λ€μ‘ν•  μ μλ” μ½”λ“λ¥Ό κµ¬ν„ν•  μ μλ‹¤.
2. **λΉ„μ© μ μ•½**: λ‚μ¤‘μ— μ—”μ§€λ‹μ–΄λ§ λΉ„μ©μ„ μ¤„μΌ μ μλ‹¤.
3. **μ½”λ“ μ¬μ‚¬μ©**: λ™μΌν• λ©”μ†λ“λ΅ λ‹¤μ–‘ν• λ™μ‘μ„ μν–‰ν•  μ μλ‹¤.
4. **κ°€λ…μ„±**: λλ‹¤ ν‘ν„μ‹μ„ ν†µν•΄ μ½”λ“κ°€ λ”μ± κ°„κ²°ν•κ³  λ…ν™•ν•΄μ§„λ‹¤.

### π€ λ°μ „ κ³Όμ •

```java
// κΈ°μ΅΄: λ³µμ΅ν• ν΄λμ¤ κµ¬ν„
public class AppleRedColorPredicate implements ApplePredicate {
    public boolean test(Apple apple) {
        return RED.equals(apple.getColor());
    }
}

// μµλ… ν΄λμ¤: μ΅°κΈ λ” κ°„λ‹¨
filterApples(inventory, new ApplePredicate() {
    public boolean test(Apple apple) {
        return RED.equals(apple.getColor());
    }
});

// λλ‹¤ ν‘ν„μ‹: λ§¤μ° κ°„κ²°
filterApples(inventory, apple -> RED.equals(apple.getColor()));
```

μ½”λ“ μ „λ‹¬ κΈ°λ²•μ„ μ΄μ©ν•λ©΄ λ™μ‘μ„ λ©”μ†λ“μ μΈμλ΅ μ „λ‹¬ν•  μ μλ‹¤. Java 8 μ΄μ „μ—λ” μ½”λ“λ¥Ό μ§€μ €λ¶„ν•κ² κµ¬ν„ν•΄μ•Ό ν–μΌλ©°, μµλ… ν΄λμ¤λ΅λ„ μ–΄λ μ •λ„ μ½”λ“λ¥Ό κΉ”λ”ν•κ² λ§λ“¤ μ μμ§€λ§ μΈν„°νμ΄μ¤λ¥Ό μƒμ†λ°›μ•„ μ—¬λ¬ ν΄λμ¤λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ” μκ³ λ¥Ό μ—†μ•¨ μ μλ” λ°©λ²•μ„ **λλ‹¤ ν‘ν„μ‹**μ΄ μ κ³µν•λ‹¤.

> π’΅ **λ‹¤μ λ‹¨κ³„**: λλ‹¤ ν‘ν„μ‹κ³Ό λ©”μ†λ“ μ°Έμ΅°λ¥Ό λ” κΉμ΄ ν•™μµν•μ—¬ ν•¨μν• ν”„λ΅κ·Έλλ°μ μ§„μ •ν• νμ„ κ²½ν—ν•΄λ³΄μ!

---

### π”– νƒκ·Έ
`#Java` `#λ™μ νλΌλ―Έν„°ν™”` `#μµλ…ν΄λμ¤` `#λλ‹¤ν‘ν„μ‹` `#μ λ„¤λ¦­` `#ν•¨μν•ν”„λ΅κ·Έλλ°` `#ν΄λ¦°μ½”λ“`